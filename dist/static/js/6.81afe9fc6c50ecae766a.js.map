{"version":3,"sources":["webpack:///./node_modules/_timers-browserify@2.0.10@timers-browserify/main.js","webpack:///./node_modules/_setimmediate@1.0.5@setimmediate/setImmediate.js","webpack:///src/components/candy/Detail.vue","webpack:///./src/components/candy/Detail.vue?d68f","webpack:///./src/components/candy/Detail.vue"],"names":["global","scope","self","window","apply","Function","prototype","Timeout","id","clearFn","this","_id","_clearFn","exports","setTimeout","call","arguments","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","__webpack_require__","setImmediate","clearImmediate","process","undefined","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","Object","getPrototypeOf","toString","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","data","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","Math","random","source","indexOf","slice","length","addEventListener","attachEvent","callback","args","Array","i","task","run","Account","_nebulas_0_5_2_nebulas_default","a","neb","Neb","nebPay","nebpay_default","Detail","pending","value","content","list","detail","visible","errorText","net","dappAddress","hasExtension","comment","topPopup","message","toast","created","switchNet","getCandyDetail","methods","setRequest","HttpRequest","_this","$route","params","from","NewAccount","getAddressString","contract","function","stringify_default","parseInt","api","then","res","result","JSON","parse","console","log","catch","err","handleSubmit","_this2","callArgs","nebPayCall","main","toggleAgree","isAgree","_this3","showToast","_this4","toastTimer","queryByHash","hash","successCb","_this5","getTransactionReceipt","receipt","status","execute_error","timer","error","callFunc","cb","_this6","serialNumber","listener","utils","txhash","queryTimer","queryInterval","queryPayInfo","resObj","msg","components","Avatar","candy_Detail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","color","_e","_v","delete","transition","_s","title","subTitle","domProps","innerHTML","description","comments","_l","index","key","avatar","button","ripple","author","flat","on","click","$event","agree","right","disagree","full-width","multi-line","rows","rows-max","max-length","disabled","placeholder","error-text","model","$$v","expression","raised","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.81afe9fc6c50ecae766a.js","sourcesContent":["var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_timers-browserify@2.0.10@timers-browserify/main.js\n// module id = 9r/T\n// module chunks = 3 6","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_setimmediate@1.0.5@setimmediate/setImmediate.js\n// module id = AYvJ\n// module chunks = 3 6","<template>\n  <div class=\"detail\">\n    <div class=\"loading\" v-if=\"pending\">\n       <mu-circular-progress :size=\"90\" color=\"secondary\" />\n    </div>\n    <mu-alert color=\"success\" delete v-if=\"topPopup\" transition=\"mu-scale-transition\" class=\"alert\">\n        <mu-icon value=\"check_circle\"></mu-icon> 更新成功\n    </mu-alert>\n    <mu-alert color=\"error\" delete v-if=\"toast\" class=\"mu-alert\">\n      <mu-icon value=\"warning\"></mu-icon> {{message}}\n    </mu-alert>\n    <mu-card v-if=\"detail.author\">\n      <mu-card-title title=\"糖果详情\"></mu-card-title>\n      <mu-card-header :title=\"detail.title\" :subTitle=\"`By:${detail.author}`\">\n      </mu-card-header>\n      <mu-divider />\n      <mu-card-text v-html=\"detail.description\">\n      </mu-card-text>\n      <mu-divider />\n      <mu-card-text>\n        <mu-list>\n          <mu-sub-header>评论</mu-sub-header>\n          <mu-card-text v-if=\"!detail.comments.length\">暂无评论</mu-card-text>\n          <mu-list-item avatar button :ripple=\"false\" v-for=\"(item, index) in detail.comments\" :key=\"index\">\n            <mu-list-item-action>\n              <mu-avatar>\n                <avatar :avatar=\"item.author\"/>\n              </mu-avatar>\n            </mu-list-item-action>\n            <mu-list-item-title>{{item.data}}</mu-list-item-title>\n          </mu-list-item>\n        </mu-list>\n      </mu-card-text>\n      <mu-card-actions>\n        <mu-button flat\n          @click=\"toggleAgree(detail.id,true)\"\n          class=\"flat-button\" color=\"primary\">\n          {{detail.agree.length.toString()}}\n          <mu-icon right value=\"thumb_up\"></mu-icon>\n        </mu-button>\n        <mu-button\n          flat\n          @click=\"toggleAgree(detail.id, false)\"\n          class=\"flat-button\" color=\"secondary\">\n          {{detail.disagree.length.toString()}}\n          <mu-icon right value=\"thumb_down\"></mu-icon>\n        </mu-button>\n      </mu-card-actions>\n      <mu-card-actions>\n        <mu-text-field\n          full-width\n          v-model=\"comment\"\n          multi-line\n          :rows=\"1\"\n          :rows-max=\"3\"\n          :max-length=\"500\"\n          :disabled=\"!hasExtension\"\n          placeholder=\"这个糖果怎么样...\"\n          :error-text=\"value ? '' : errorText\"/>\n          <mu-card-actions>\n            <mu-button raised class=\"demo-raised-button\" color=\"secondary\" @click=\"handleSubmit\">提交 </mu-button>\n          </mu-card-actions>\n      </mu-card-actions>\n    </mu-card>\n    </div>\n</template>\n\n<script>\nimport NebPay from 'nebpay.js';\nimport Nebulas from 'nebulas';\nimport Avatar from '../../common/Avatar';\n\nimport { isPC } from '../../utils/utils';\nimport { setTimeout } from 'timers';\n\nconst Account = Nebulas.Account;\nconst neb = new Nebulas.Neb();\nconst nebPay = new NebPay();\nexport default {\n  data () {\n    return {\n      pending: false,\n      value: '',\n      content: '',\n      list: [],\n      detail: [],\n      visible: false,\n      errorText: '',\n      net: 'https://mainnet.nebulas.io',\n      dappAddress: 'n1yvgpF2cSsHnBP4j2jQNgSZtSmhJASPZ75',\n      hasExtension: true,\n      comment: '',\n      id: 0,\n      topPopup: false,\n      message: '',\n      toast: false\n    };\n  },\n  created () {\n    this.switchNet(this.net);\n    this.getCandyDetail();\n  },\n  methods: {\n    switchNet (value) {\n      neb.setRequest(new Nebulas.HttpRequest(value));\n    },\n    getCandyDetail () {\n      const id = this.$route.params.id;\n      this.id = id;\n      const from = Account.NewAccount().getAddressString();\n      const value = '0';\n      const nonce = '0';\n      const gasPrice = '1000000';\n      const gasLimit = '2000000';\n      const callFunc = 'get';\n      const callArgs = JSON.stringify([parseInt(id)]);\n      const contract = {\n        function: callFunc,\n        args: callArgs\n      };\n      this.pending = true;\n      neb.api.call(from, this.dappAddress, value, nonce, gasPrice, gasLimit, contract).then((res) => {\n        let result = res.result;\n        if (result === 'null') {\n          this.result = [];\n          return;\n        }\n        result = JSON.parse(result);\n        this.detail = result;\n        console.log(result);\n        this.pending = false;\n      }).catch(err => console.log(`error:${err}`));\n    },\n    handleSubmit () {\n      const id = this.$route.params.id;\n      const value = '0';\n      const callFunc = 'comment';\n      const callArgs = JSON.stringify([id, this.comment]);\n      this.nebPayCall(callFunc, callArgs, value, () => {\n        this.pending = true;\n      }, () => {\n        this.getCandyDetail();\n        this.pending = false;\n        this.topPopup = true;\n        this.comment = '';\n        setTimeout(() => {\n          this.topPopup = false;\n        }, 2000);\n      });\n    },\n    toggleAgree (id, isAgree) {\n      if (!this.hasExtension) {\n        this.message = '请先安装星云扩展钱包插件！';\n        this.showToast();\n      }\n      const value = '0';\n      const callFunc = 'toggleAgree';\n      const callArgs = JSON.stringify([id, isAgree]);\n      this.nebPayCall(callFunc, callArgs, value, () => {\n        this.pending = true;\n      }, () => {\n        this.getCandyDetail();\n        this.pending = false;\n        this.topPopup = true;\n        this.comment = '';\n        setTimeout(() => {\n          this.topPopup = false;\n        }, 2000);\n      });\n    },\n    showToast () {\n      this.toast = true;\n      if (this.toastTimer) clearTimeout(this.toastTimer);\n      this.toastTimer = setTimeout(() => { this.toast = false; }, 2000);\n    },\n    queryByHash (hash, successCb) {\n      neb.api.getTransactionReceipt({hash}).then((receipt) => {\n        console.log(receipt);\n        if (receipt.status === 0) {\n          this.message = receipt.execute_error;\n          this.pending = false;\n          clearInterval(this.timer);\n        }\n        if (receipt.status === 2) {\n          this.pending = true;\n        }\n        if (receipt.status === 1) {\n          this.pending = false;\n          console.error('clear', this.timer);\n          clearInterval(this.timer);\n          this.timer = null;\n          successCb(receipt);\n        }\n      });\n    },\n\n    nebPayCall (callFunc, callArgs, value, cb, successCb) {\n      this.serialNumber = nebPay.call(this.dappAddress, value, callFunc, callArgs, {\n        listener: (res) => {\n          if (!isPC()) {\n            return;\n          }\n          if (res.txhash) {\n            const hash = res.txhash;\n            this.timer = setInterval(() => {\n              this.queryByHash(hash, successCb);\n              console.error('timer', this.timer);\n            }, 5000);\n          }\n        }\n      });\n      if (!isPC()) {\n        const queryTimer = setInterval(() => {\n          const queryCb = (data) => {\n            clearInterval(queryTimer);\n            cb(data.hash);\n            this.timer = setInterval(() => {\n              console.error('timer', this.timer);\n              this.queryByHash(data.hash, successCb);\n            }, 5000);\n          };\n          this.queryInterval(queryCb);\n        }, 3000);\n      }\n    },\n\n    queryInterval (cb) {\n      nebPay.queryPayInfo(this.serialNumber)\n        .then(res => {\n          console.log(`tx result: ${res}`);\n          const resObj = JSON.parse(res);\n          console.log(resObj);\n          if (resObj.msg === 'success') {\n            cb && cb(resObj.data);\n          }\n        })\n        .catch(function (err) {\n          console.log('err', err);\n        });\n    }\n  },\n  components: {\n    Avatar\n  }\n};\n</script>\n\n<style>\n.detail{\n  background-color: white;\n  border-radius: 5px;\n  min-height: 900px;\n  padding-bottom: 100px;\n}\n\n@media screen and (max-width: 768px) {\n  .detail {\n    padding: 0px;\n  }\n}\n\n.mu-avatar {\n  width: 50px !important;\n  height: 50px !important;\n}\n\n.mu-card {\n  padding: 16px;\n}\n\n.loading {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 9999;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/candy/Detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[(_vm.pending)?_c('div',{staticClass:\"loading\"},[_c('mu-circular-progress',{attrs:{\"size\":90,\"color\":\"secondary\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.topPopup)?_c('mu-alert',{staticClass:\"alert\",attrs:{\"color\":\"success\",\"delete\":\"\",\"transition\":\"mu-scale-transition\"}},[_c('mu-icon',{attrs:{\"value\":\"check_circle\"}}),_vm._v(\" 更新成功\\n  \")],1):_vm._e(),_vm._v(\" \"),(_vm.toast)?_c('mu-alert',{staticClass:\"mu-alert\",attrs:{\"color\":\"error\",\"delete\":\"\"}},[_c('mu-icon',{attrs:{\"value\":\"warning\"}}),_vm._v(\" \"+_vm._s(_vm.message)+\"\\n  \")],1):_vm._e(),_vm._v(\" \"),(_vm.detail.author)?_c('mu-card',[_c('mu-card-title',{attrs:{\"title\":\"糖果详情\"}}),_vm._v(\" \"),_c('mu-card-header',{attrs:{\"title\":_vm.detail.title,\"subTitle\":(\"By:\" + (_vm.detail.author))}}),_vm._v(\" \"),_c('mu-divider'),_vm._v(\" \"),_c('mu-card-text',{domProps:{\"innerHTML\":_vm._s(_vm.detail.description)}}),_vm._v(\" \"),_c('mu-divider'),_vm._v(\" \"),_c('mu-card-text',[_c('mu-list',[_c('mu-sub-header',[_vm._v(\"评论\")]),_vm._v(\" \"),(!_vm.detail.comments.length)?_c('mu-card-text',[_vm._v(\"暂无评论\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.detail.comments),function(item,index){return _c('mu-list-item',{key:index,attrs:{\"avatar\":\"\",\"button\":\"\",\"ripple\":false}},[_c('mu-list-item-action',[_c('mu-avatar',[_c('avatar',{attrs:{\"avatar\":item.author}})],1)],1),_vm._v(\" \"),_c('mu-list-item-title',[_vm._v(_vm._s(item.data))])],1)})],2)],1),_vm._v(\" \"),_c('mu-card-actions',[_c('mu-button',{staticClass:\"flat-button\",attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.toggleAgree(_vm.detail.id,true)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.detail.agree.length.toString())+\"\\n        \"),_c('mu-icon',{attrs:{\"right\":\"\",\"value\":\"thumb_up\"}})],1),_vm._v(\" \"),_c('mu-button',{staticClass:\"flat-button\",attrs:{\"flat\":\"\",\"color\":\"secondary\"},on:{\"click\":function($event){_vm.toggleAgree(_vm.detail.id, false)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.detail.disagree.length.toString())+\"\\n        \"),_c('mu-icon',{attrs:{\"right\":\"\",\"value\":\"thumb_down\"}})],1)],1),_vm._v(\" \"),_c('mu-card-actions',[_c('mu-text-field',{attrs:{\"full-width\":\"\",\"multi-line\":\"\",\"rows\":1,\"rows-max\":3,\"max-length\":500,\"disabled\":!_vm.hasExtension,\"placeholder\":\"这个糖果怎么样...\",\"error-text\":_vm.value ? '' : _vm.errorText},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),_vm._v(\" \"),_c('mu-card-actions',[_c('mu-button',{staticClass:\"demo-raised-button\",attrs:{\"raised\":\"\",\"color\":\"secondary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交 \")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6ec71784\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/candy/Detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ec71784\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./Detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ec71784\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./Detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/candy/Detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}